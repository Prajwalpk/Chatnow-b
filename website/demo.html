<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>Chatnow-b ~ Chatbot for NOW Finance</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Project to develop chatbot for NOW FINANCE to enhance the customer experience."/>
      <meta name="keywords" content="chatbots, bots, finance"/>
      <meta name="robots" content="follow"/>
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" >
      <link rel="stylesheet" href="public/css/app.css" >
      <style>
         html,body {
            min-height: 102vh
         }

         body {
        
            background: linear-gradient(to top, #697a82 0%, #4A6E7E 100%) no-repeat center center fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    background-size: cover;
         }
         .box {
          width: max-content;
          overflow: hidden;
         }
      </style>
   </head>
   <body>
   	 <header class="container" id="intro">
  <nav class="navbar navbar-expand-md fixed-top px-5" style="background-color: white">
    <a class="navbar-brand" href="/">
      <img src="public/art/logos.png" width="100px">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="#intro">Intro</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#stack">Stack</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#team">Team</a>
        </li>
        <li class="nav-item">
          <button class="btn btn-success text-white ml-2" id="try-now">
            Try Now
          </button>
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item mr-3">
          <a class="text-white nav-link" href="/login">
            Login
          </a>
        </li>
        <li class="nav-item">
          <a class="btn btn-warning text-white" href="/register">
            <i class="fa fa-user mr-1"></i> Register
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>
<div class="container mt-5  pt-5">
  <div class="row">
    <div class="col-5">
      <img src="public/art/chat.svg" alt="2 person chatting" class="w-100">
    </div>
    <div class="col-7 pl-5">
      <h1 class="display-4 text-white mt-3 pt-5 font-weight-bold mb-4" style="opacity: 0.75"><span class="fa fa-comments"></span> Chatnow</h1>
      <h2 class=" text-white" style="line-height: 1.35">
      A Sophisticated Chatbot that helps to enhance the customer funnel across the
      <mark class="font-weight-bold font-italic mr-2 d-inline-block rel" style="transform: skew(-12deg)">
      <span class="d-inline-block" style="transform: skew(20deg)">NOW FINANCE</span>
      </mark>  business.
      </h2>
    </div>
  </div>
</div>
<div class="container mt-5 pt-5 text-white">
  
  <div id="stack">
    <h1 class="pb-4">Tech Stack</h1>
    <div class="row featurette py-4">
      <div class="col-md-7">
        <h2 class="">Amazon Lex</h2>
        <p class="lead text-justify">
          Amazon Lex is a service for building conversational interfaces into any application using voice and text. Amazon Lex provides the advanced deep learning functionalities of automatic speech recognition (ASR) for converting speech to text, and natural language understanding (NLU) to recognize the intent of the text, to enable you to build applications with highly engaging user experiences and lifelike conversational interactions. With Amazon Lex, the same deep learning technologies that power Amazon Alexa are now available to any developer, enabling you to quickly and easily build sophisticated, natural language, conversational bots
        </p>
      </div>
      <div class="col-md-5">
        <div class="bg-white box rounded shadow-lg box" >
          <img class="img-fluid mx-auto" src="https://s3.consumersadvocate.org/prd/image/image/5172/medium_791c7c83-bd53-4c19-b845-dae503671d49.png" >
        </div>
        
      </div>
    </div>
    <hr class="featurette-divider">
    <div class="row featurette py-4">
      <div class="col-md-7 order-md-2">
      <h2 class="">Amazon Lambda</span></h2>
      <p class="text-justify">AWS Lambda lets you run code without provisioning or managing servers. You pay only for the compute time you consume - there is no charge when your code is not running.
      With Lambda, you can run code for virtually any type of application or backend service - all with zero administration. Just upload your code and Lambda takes care of everything required to run and scale your code with high availability. You can set up your code to automatically trigger from other AWS services or call it directly from any web or mobile app.</p>
    </div>
    <div class="col-md-5 order-md-1">
      <div class="bg-white box rounded shadow-lg box">
        <img class=" img-fluid mx-auto" src="art/lambda.png" >
      </div>
      
    </div>
  </div>
  <hr class="featurette-divider">
  <div class="row featurette py-4">
    <div class="col-md-7">
      <h2 class="">Amazon Dynamodb</h2>
      <p class="lead text-justify">
        Amazon DynamoDB is a nonrelational database that delivers reliable performance at any scale. It's a fully managed, multi-region, multi-master database that provides consistent single-digit millisecond latency, and offers built-in security, backup and restore, and in-memory caching.
        More than 100,000 AWS customers have chosen DynamoDB for mobile, web, gaming, ad tech, IoT, and many other applications that need low-latency data access. Create a new table for your application and let DynamoDB handle the rest.
      </p>
    </div>
    <div class="col-md-5">
      <div class="bg-white box rounded shadow-lg box" >
        <img class="img-fluid mx-auto" src="art/dyn.png" width="400" >
      </div>
      
    </div>
  </div>
  <hr class="featurette-divider">
  <!-- /END THE FEATURETTES -->
  </div><!-- id=demo -->
  <!-- Team -->
  <div id="team" class="text-center">
    <div class="row">
      <div class="col-md-12">
        <h1 style="text-align: center;">Our Team</h1><br>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-4">
        <img class="rounded-circle" src="art/user.png" width="140" height="140">
        <h2 class="h4">Prajwal Kumar</h2>
        <p>Team Lead</p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img class="rounded-circle" src="art/user.png" alt="Generic placeholder image" width="140" height="140">
          <h2 class="h4">Saicharan Chowdary Angalakurthi </h2>
          <p>Product Owner<p>
            </div><!-- /.col-lg-4 -->
            <div class="col-lg-4">
              <img class="rounded-circle" src="/art/user.png" alt="Generic placeholder image" width="140" height="140">
              <h2 class="h4">Nehal Pasha Shaik</h2>
              <p>Designer</p>
              </div><!-- /.col-lg-4 -->
              </div><!-- /.row -->
              <div class="row">
                <div class="col-lg-4">
                  <img class="rounded-circle" src="./art/user.png" alt="Generic placeholder image" width="140" height="140">
                  <h2 class="h4">Muhammad ArslanAtif </h2>
                  <p>Frontend Developer</p>
                  </div><!-- /.col-lg-4 -->
                  <div class="col-lg-4">
                    <img class="rounded-circle" src="./art/user.png" alt="Generic placeholder image" width="140" height="140">
                    <h2 class="h4">Mounika Chowdary Pendyala</h2>
                    <p>Frontend Developer</p>
                    </div><!-- /.col-lg-4 -->
                    <div class="col-lg-4">
                      <img class="rounded-circle" src="./art/user.png" alt="Generic placeholder image" width="140" height="140">
                      <h2 class="h4">Trushar Vekaria</h2>
                      <p>Backend Developer</p>
                    </div>
                    <div class="col-lg-4 offset-4">
                      <img class="rounded-circle" src="./art/user.png" alt="Generic placeholder image" width="140" height="140">
                      <h2 class="h4">Annamalai Saravanan</h2>
                      <p>Backend Developer</p>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
              <footer class="container mb-4">
                <p class="float-right"><a  class="text-white" href="#">Back to top</a></p>
                <p class="text-white">&copy; 2017-2018 Chatnow, Inc.</p>
              </footer>

<div class="cbt">
    <button class="cbt-support">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="messaging_conversation" width="100%" height="100%"><path fill="#FFF" d="M13.1 17.1c2.6-.9 4.1-2.5 4.5-4.7 1.1.5 1.8 1.6 1.8 2.8 0 .6-.1 1.1-.3 1.5l.4 1.3c.1.3-.2.6-.5.5l-1.3-.5c-.5.3-1.1.5-1.7.5-1.2 0-2.2-.6-2.9-1.4zM10.6 5.3c3.2 0 5.8 2.4 5.8 5.4 0 3-2.6 5.4-5.8 5.4-1.1 0-2.2-.3-3-.8-.1-.1-.3-.1-.4-.1l-1.7.6c-.3.1-.6-.1-.5-.5l.6-1.7c0-.1 0-.2-.1-.3-.4-.8-.7-1.7-.7-2.6 0-3 2.6-5.4 5.8-5.4zM7.7 8.9c-.3 0-.5.2-.5.5v.4c0 .3.2.5.5.5h6.2c.3 0 .5-.2.5-.5v-.4c0-.3-.2-.5-.5-.5H7.7zm0 2.6c-.3 0-.5.2-.5.5v.5c0 .2.2.5.5.5H11c.3 0 .5-.3.5-.5V12c0-.3-.2-.5-.5-.5H7.7z"></path></svg>
        </button>
    <div class="cbt-container">
        <div class="cbt-input">
            <div class="cbt-msg" id="conversation" ></div>
            <form onsubmit="return pushChat();" >
                <textarea placeholder="Type your query ..." onkeypress="onkeychange(event);" ></textarea>
                <button onclick="return pushChat();" >Send</button>
            </form>
        </div>
    </div>
</div>
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.41.0.min.js"></script>
       <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
  $(function () {
    const container$ = $('.cbt-container');

    $('#try-now, .cbt-support').on('click', event => {
      container$.toggleClass('active');
    });

    $(document).on('click', event => {
      if(event.target.closest('.cbt') || $(event.target).is('#try-now') ) {
        return;
      }

      container$.removeClass('active');
    });

  });


      function onkeychange(e) {
 
      if( e && e.keyCode && e.keyCode == 13) {
      
         pushChat();
           e.value = '';
           return;
      }
    }
</script>

      <script>
         // Initialize the Amazon Cognito credentials provider
         AWS.config.region = 'us-east-1'; // Region
         AWS.config.credentials = new AWS.CognitoIdentityCredentials({
         // Provide your Pool Id here
         IdentityPoolId: 'us-east-1:a0d106cd-e349-443a-b7f8-e25f5106a66d',
         });
         
         var lexruntime = new AWS.LexRuntime();
         var lexUserId = 'chatbot-' + Date.now();
         var sessionAttributes = {};
         
         function pushChat() {
 
         // if there is text to be sent...
         var wisdomText = document.querySelector('.cbt-input textarea');
         if (wisdomText && wisdomText.value && wisdomText.value.trim().length > 0) {

         // disable input to show we're sending it
         var wisdom = wisdomText.value.trim();
         wisdomText.value = '...';
         wisdomText.locked = true;
         
         // send it to the Lex runtime
         var params = {
          botAlias: 'chatfinance',
          botName: 'Chat_finance',
          inputText: wisdom,
          userId: lexUserId,
          sessionAttributes: sessionAttributes
         };
        
         showRequest(wisdom);

         lexruntime.postText(params, function(err, data) {
          if (err) {
            console.log(err, err.stack);
            showError('Error:  ' + err.message + ' (see console for details)')
          }
          if (data) {
            // capture the sessionAttributes for the next cycle
            sessionAttributes = data.sessionAttributes;
            // show response and/or error/dialog status
            showResponse(data);
          }
          // re-enable input
          wisdomText.value = '';
          wisdomText.locked = false;
         });
         }

         // we always cancel form submission
         return false;
         }
         
         function showRequest(daText) {
         
         var conversationDiv = document.getElementById('conversation');
         var requestPara = document.createElement("P");
         requestPara.className = `cbt-user`;
         requestPara.appendChild(document.createTextNode(daText));
         conversationDiv.appendChild(requestPara);
         conversationDiv.scrollTop = conversationDiv.scrollHeight;
         }
         
         function showError(daText) {
         
         var conversationDiv = document.getElementById('conversation');
         var errorPara = document.createElement("P");
         errorPara.className = 'lexError';
         errorPara.appendChild(document.createTextNode(daText));
         conversationDiv.appendChild(errorPara);
         conversationDiv.scrollTop = conversationDiv.scrollHeight;
         }
         
         function showResponse(lexResponse) {
         
         var conversationDiv = document.getElementById('conversation');
         var responsePara = document.createElement("P");
         responsePara.className = `cbt-bot`;
         if (lexResponse.message) {
         responsePara.appendChild(document.createTextNode(lexResponse.message));
         responsePara.appendChild(document.createElement('br'));
         }
         // if (lexResponse.dialogState === 'ReadyForFulfillment') {
         // responsePara.appendChild(document.createTextNode(
         //  'Ready for fulfillment'));
         // // TODO:  show slot values
         // } else {
         // responsePara.appendChild(document.createTextNode(
         //  '(' + lexResponse.dialogState + ')'));
         // }
         conversationDiv.appendChild(responsePara);
         conversationDiv.scrollTop = conversationDiv.scrollHeight;
         }
      </script>
   </body>
</html>